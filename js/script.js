var actionBookmark=document.querySelectorAll(".buy");console.log(actionBookmark),console.log(actionBookmark.length);for(var popupBasket=document.querySelector(".popup-basket"),close=popupBasket.querySelector(".modal-close"),i=0;i<actionBookmark.length;i++)actionBookmark[i].addEventListener("click",function(e){e.preventDefault(),popupBasket.classList.add("modal-show")});close.addEventListener("click",function(e){e.preventDefault(),popupBasket.classList.remove("modal-show"),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupBasket.classList.contains("modal-show")&&popupBasket.classList.remove("modal-show"))})});var link=document.querySelector(".contacts-button");console.log(link);var popup=document.querySelector(".wrapper-form"),form=(close=popup.querySelector(".modal-close"),popup.querySelector(".user-form")),login=popup.querySelector(".user-name"),email=popup.querySelector(".user-email"),text=popup.querySelector("user-message"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}null===link&&(link=1),console.log(link),link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storage?(login.value=storage,email.focus):login.focus}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){e.preventDefault(),login.value&&email.value&&text.value?isStorageSupport&&localStorage.setItem("login",login.value):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"),console.log("Пожалуйста, заполните поля формы"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")))});var map=document.querySelector(".map"),modalMap=document.querySelector(".modal-map");close=modalMap.querySelector(".map-modal-close");map.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),close.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalMap.classList.contains("modal-show")&&modalMap.classList.remove("modal-show"))});